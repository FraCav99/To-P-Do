(()=>{"use strict";!function(t,e){const n={darkModeSwitch:document.querySelector('input[type="checkbox"]'),modalContainer:document.querySelector(".modal-container"),listTitleModal:document.querySelector(".title-input"),listsContainer:document.querySelector(".lists-container"),addNewListBtn:document.getElementById("add-new-list"),discardTitleBtn:document.getElementById("discard-list-title"),listTitleInput:document.getElementById("list-title-input"),addListBtn:document.getElementById("add-list-title"),itemInputModal:document.querySelector(".item-input"),addNewItemBtn:document.getElementById("add-new-todo"),addItemBtn:document.getElementById("add-item"),discardItemBtn:document.getElementById("discard-item"),cancelListModal:document.querySelector(".deletion-modal"),closeCancelListModalBtn:document.getElementById("cancel"),confirmCancelationListBtn:document.getElementById("delete"),listItemsContainer:document.querySelector(".list-items-container"),listTitle:document.getElementById("list-title")};let l;n.darkModeSwitch.addEventListener("click",(()=>t.toggleDarkMode(n.darkModeSwitch))),n.addNewListBtn.addEventListener("click",(()=>t.showModal(n.modalContainer,n.listTitleModal))),n.addNewItemBtn.addEventListener("click",(()=>t.showModal(n.modalContainer,n.itemInputModal))),n.listsContainer.addEventListener("click",(e=>{e.target.classList.contains("list")&&(l=e.target.textContent,l=l.slice(0,-1),t.showTodos(l,n.listItemsContainer,n.listTitle)),e.target.classList.contains("delete-list")&&(l=e.target.parentNode.textContent,l=l.slice(0,-1),t.showModal(n.modalContainer,n.cancelListModal))})),n.discardTitleBtn.addEventListener("click",(e=>{t.resetInputField(n.listTitleInput),t.closeModal(e,n.modalContainer,n.listTitleModal)})),n.discardItemBtn.addEventListener("click",(e=>t.closeModal(e,n.modalContainer,n.itemInputModal))),n.closeCancelListModalBtn.addEventListener("click",(e=>t.closeModal(e,n.modalContainer,n.cancelListModal))),n.addListBtn.addEventListener("click",(l=>{""!==n.listTitleInput.value&&(e.createList(n.listTitleInput.value),t.createListDiv(n.listsContainer),t.resetInputField(n.listTitleInput),t.closeModal(l,n.modalContainer,n.listTitleModal))})),n.confirmCancelationListBtn.addEventListener("click",(i=>{""!==l&&(e.deleteList(l),t.createListDiv(n.listsContainer),t.closeModal(i,n.modalContainer,n.cancelListModal))})),t.createListDiv(n.listsContainer)}(function(){const t=(t,e)=>{const n=document.createElement("button");n.setAttribute("class","action"),n.setAttribute("id",t);const l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("viewBox","0 0 24 24");const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",e),l.append(i),n.append(l),n},e=e=>{const n=document.createElement("div");n.classList.add("item");const l=document.createElement("span");switch(l.classList.add("priority"),e.priority){case"high":l.classList.add("high");case"medium":l.classList.add("medium");case"low":l.classList.add("low")}const i=document.createElement("span");i.setAttribute("id","item-name"),i.textContent=e.title;const d=document.createElement("div");d.setAttribute("class","actionBtn");const a=t("modify","M7.127 22.564l-7.126 1.436 1.438-7.125 5.688 5.689zm-4.274-7.104l5.688 5.689 15.46-15.46-5.689-5.689-15.459 15.46z"),s=t("checked","M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z"),o=t("info","M12 24c6.627 0 12-5.373 12-12s-5.373-12-12-12-12 5.373-12 12 5.373 12 12 12zm1-6h-2v-8h2v8zm-1-12.25c.69 0 1.25.56 1.25 1.25s-.56 1.25-1.25 1.25-1.25-.56-1.25-1.25.56-1.25 1.25-1.25z"),c=document.createElement("button");c.setAttribute("class","action"),c.setAttribute("id","delete"),c.textContent="X",d.append(a),d.append(s),d.append(o),d.append(c),n.append(l),n.append(i),n.append(d)};return{toggleDarkMode:t=>{const e=document.getElementById("dark");t.checked?e.rel="stylesheet":e.rel="stylesheet alternate"},resetInputField:t=>t.value="",showModal:(t,e)=>{t.classList.remove("visible"),e.classList.remove("visible")},closeModal:(t,e,n)=>{e.classList.add("visible"),n.classList.add("visible"),t.preventDefault()},createListDiv:t=>{if((t=>{for(;t.firstChild;)t.removeChild(t.lastChild)})(t),localStorage.length>0)for(let e=0;e<localStorage.length;e++){const n=document.createElement("li");n.classList.add("list"),n.textContent=localStorage.key(e);const l=document.createElement("button");l.classList.add("delete-list"),l.textContent="X",n.append(l),t.append(n)}else{const e=document.createElement("p");e.textContent="Start by creating a new list",t.append(e)}},showTodos:(t,n,l)=>{let i=JSON.parse(localStorage.getItem(t));for(l.textContent=t;n.firstChild&&"add-new-todo"!==n.lastChild.id;)n.removeChild(n.lastChild);for(let t of i)e(t)}}}(),{createList:t=>{localStorage.setItem(t,JSON.stringify([]))},deleteList:t=>{localStorage.removeItem(t)},addTodo:(t,e,n,l)=>{const i=JSON.parse(localStorage.getItem(t)),d={title:e,date,priority:n,description:l};i.push(d),localStorage.setItem(JSON.stringify(i))}})})();